<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#6C63FF">
    <title>Reda√ß√£o Nota 1000</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <button class="dark-mode-toggle" id="darkModeToggle">üåì</button>
    
    <!-- Tela inicial - apenas o bot√£o -->
    <div class="initial-screen" id="initialScreen">
        <!-- Cabe√ßalho simplificado -->
        <div class="app-header">
            <h1 class="app-title">RedacionMIL</h1>
            <p class="app-subtitle">Sua trilha para a nota 1000</p>
        </div>
        
        <!-- Container de bot√µes em coluna √∫nica -->
        <div class="action-buttons">
            <!-- Bot√£o principal destacado -->
            <button class="action-btn primary-btn" id="viewEssayBtn">
                <span class="btn-icon">üìù</span>
                <span class="btn-text">Ver Reda√ß√£o Modelo</span>
            </button>
            
            <!-- Bot√µes de conceitos -->
            <button class="action-btn" data-concept="thesis">
                <span class="btn-icon">üéØ</span>
                <span class="btn-text">O que √© Tese?</span>
            </button>
            
            <button class="action-btn" data-concept="repertoire">
                <span class="btn-icon">üìö</span>
                <span class="btn-text">O que √© Repert√≥rio?</span>
            </button>
            
            <button class="action-btn" data-concept="conjunction">
                <span class="btn-icon">üîó</span>
                <span class="btn-text">O que √© Conjun√ß√£o?</span>
            </button>
            
            <button class="action-btn" data-concept="intervention">
                <span class="btn-icon">üí°</span>
                <span class="btn-text">Proposta de Interven√ß√£o</span>
            </button>
        </div>
        
        <!-- Rodap√© minimalista -->
        <div class="app-footer">
            <p>Dica: Comece lendo uma reda√ß√£o modelo</p>
        </div>
    </div>

    <!-- Modal para conceitos -->
    <div class="concept-modal" id="conceptModal">
        <div class="modal-content">
            <button class="close-modal" id="closeModalBtn">&times;</button>
            <h2 class="modal-title" id="modalTitle"></h2>
            <div class="modal-body" id="modalContent"></div>
        </div>
    </div>

    <!-- Tela de leitura da reda√ß√£o -->
    <div class="reading-screen" id="readingScreen" style="display: none;">
        <div class="reading-header">
            <div class="read-label-container">
                <div class="read-label">LEIA</div>
                <div class="read-subtitle">Reda√ß√£o Modelo ENEM</div>
            </div>
            <button class="close-reading-btn" id="closeReadingBtn">‚úï</button>
        </div>
        <div class="essay-card reading-mode">
            <h2 class="essay-title" id="readingEssayTitle"></h2>
            <div class="essay-text" id="readingEssayText"></div>
        </div>
        <button class="start-questions-btn" id="startQuestionsBtn">Responda √† quest√£o</button>
    </div>

    <!-- Conte√∫do principal -->
    <div class="main-content" id="mainContent" style="display: none;">
        <!-- Tela de Exerc√≠cio -->
        <div id="exerciseScreen">
            <div class="essay-card">
                <h2 class="essay-title" id="essayTitle"></h2>
                <div class="essay-text" id="essayText"></div>
            </div>

            <div class="analysis-card">
                <h2 class="section-title">Analise a Reda√ß√£o</h2>
                
                <div class="input-group">
                    <label class="input-label" id="questionLabel"></label>
                    <textarea class="input-field" id="userAnswer" placeholder="Digite sua resposta aqui..."></textarea>
                </div>
                
                <button class="submit-btn" id="showAnswerBtn">Mostrar Gabarito</button>
            </div>
        </div>

        <!-- Tela de Compara√ß√£o -->
        <div id="comparisonScreen" style="display: none;">
            <div class="analysis-card">
                <h2 class="section-title">Compara√ß√£o com o Gabarito</h2>
                
                <div class="comparison-container">
                    <div class="comparison-column user-column">
                        <h3 class="column-title">Sua Resposta</h3>
                        <div class="answer-item">
                            <div class="answer-text" id="userAnswerText"></div>
                        </div>
                    </div>
                    
                    <div class="comparison-column correct-column">
                        <h3 class="column-title">Gabarito Oficial</h3>
                        <div class="answer-item">
                            <div class="answer-text correct-answer" id="correctAnswerText"></div>
                        </div>
                    </div>
                </div>
                
                <div class="comparison-buttons">
                    <button class="back-btn" id="backToEssayBtn">Voltar para reda√ß√£o</button>
                    <button class="back-btn" id="backToHomeBtn">Voltar para in√≠cio</button>
                    <button class="next-btn" id="nextQuestionBtn">Pr√≥xima Quest√£o</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./service-worker.js', { scope: './' }) 
        .then(reg => console.log('Service Worker registrado com scope:', reg.scope))
        .catch(err => console.error('Falha no registro do Service Worker:', err));
      });
    }
    </script>
</body>
</html>